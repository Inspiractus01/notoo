<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Plant Detail ‚Äì LeafLoop</title>
    <link rel="stylesheet" href="../../styles/globals.css" />
    <script src="../../scripts/plant.js" defer></script>
    <script src="../../scripts/auth.js" defer></script>
  </head>
  <body>
    <header>
      <div class="navbar">
        <a href="../../index.html" class="navbar-title">LeafLoop</a>
        <div class="navigation">
          <a href="../about/index.html">About</a>
          <a href="../explore/index.html">Explore</a>
          <a href="../add-plant/index.html">Add Plant</a>
          <button id="auth-button" class="auth-btn">Login / Register</button>
          <img
            id="profile-avatar"
            class="profile-avatar hidden"
            src="../../assets/profile/profile-variant1.png"
            alt="Profile"
          />
          <span id="user-name" class="user-name hidden"></span>
        </div>
      </div>

      <!-- Login/Register Modal -->
      <div id="auth-modal" class="modal hidden">
        <div class="modal-content">
          <span id="close-modal" class="close">&times;</span>

          <div id="form-toggle">
            <button id="show-login" class="button">Login</button>
            <button id="show-register" class="button">Register</button>
          </div>

          <form id="login-form" class="auth-form">
            <h3>Login</h3>
            <input type="text" id="login-name" placeholder="Name" required />
            <input
              type="password"
              id="login-password"
              placeholder="Password"
              required
            />
            <button type="submit">Login</button>
          </form>

          <form id="register-form" class="auth-form hidden">
            <h3>Register</h3>
            <input type="text" id="register-name" placeholder="Name" required />
            <input
              type="password"
              id="register-password"
              placeholder="Password"
              required
            />
            <button type="submit">Register</button>
          </form>

          <p id="auth-message"></p>
        </div>
      </div>

      <!-- Profile Modal -->
      <div id="profile-modal" class="modal hidden">
        <div class="modal-content">
          <span id="close-profile-modal" class="close">&times;</span>
          <h2>Edit Profile</h2>
          <p id="logged-user-text" class="logged-user-text">
            You are logged in as ...
          </p>

          <div class="avatar-options">
            <h4>Change profile picture:</h4>
            <div class="avatar-selection">
              <img
                src="../../assets/profile/profile-male.png"
                data-avatar="1"
                class="avatar-choice"
              />
              <img
                src="../../assets/profile/profile-female.png"
                data-avatar="2"
                class="avatar-choice"
              />
              <img
                src="../../assets/profile/profile-variant1.png"
                data-avatar="3"
                class="avatar-choice"
              />
            </div>
          </div>

          <form id="password-form">
            <h4>Change password:</h4>
            <input
              type="password"
              id="new-password"
              placeholder="New password"
              required
            />
            <button class="button" type="submit">Update Password</button>
          </form>

          <button id="logout-button" class="logout-btn">Logout</button>
        </div>
      </div>
    </header>

    <main class="greenpage">
      <div class="content-wrapper" id="plant-detail">
        <a href="../explore/index.html" class="explore-button"
          >‚Üê Back to Explore</a
        >
        <h1 id="plant-name">Loading...</h1>
        <button id="edit-plant-button" class="edit-plant-btn">Edit</button>
        <div class="plant-detail-layout">
          <div class="plant-image-section">
            <img
              id="plant-image"
              src=""
              alt="Plant Image"
              class="plant-image"
            />
          </div>
          <div class="plant-text-section">
            <div class="plant-field">
              <h3>Category</h3>
              <p id="plant-category">...</p>
            </div>
            <div class="plant-field">
              <h3>Description</h3>
              <p id="plant-description">...</p>
            </div>

            <div class="plant-field">
              <h3>Basic Needs</h3>
              <p id="plant-basic-needs">...</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Edit Plant Modal -->
      <div id="edit-plant-modal" class="modal hidden">
        <div class="modal-content green-modal">
          <span id="close-edit-modal" class="close">&times;</span>
          <h2>Edit Plant</h2>
          <form id="edit-plant-form">
            <label for="edit-description">Description:</label>
            <textarea id="edit-description" rows="4"></textarea>

            <label for="edit-category">Category:</label>
            <input type="text" id="edit-category" />

            <label for="edit-basic-needs">Basic Needs:</label>
            <input type="text" id="edit-basic-needs" />

            <label for="edit-image-url">Image URL:</label>
            <input
              type="text"
              id="edit-image-url"
              placeholder="Enter image URL"
            />

            <button
              type="button"
              id="delete-image-button"
              class="button danger-btn"
            >
              Delete Image
            </button>

            <button type="submit" class="button">Save Changes</button>
          </form>
        </div>
      </div>
    </main>

    <footer class="footer">
      <p>üåø LeafLoop &copy; 2025 | Open-source plant encyclopedia</p>
    </footer>
  </body>
</html>
